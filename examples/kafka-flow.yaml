# Simple Kafka flow
name: kafka-simple-flow
message_headers:
  source: perf-tool
  version: "1.0"

hops:
  # First hop: publish to Kafka
  - name: initial-publish
    destination:
      type: kafka
      topic: test-input
      config:
        bootstrap_servers:
          - localhost:9092
    validation:
      type: exists

  # Second hop: consume from Kafka and publish to another topic
  - name: kafka-to-kafka
    source: "hop: initial-publish"
    destination:
      type: kafka
      topic: test-output
      config:
        bootstrap_servers:
          - localhost:9092
    validation:
      type: size
      params:
        min_bytes: 1
        max_bytes: 1000000
